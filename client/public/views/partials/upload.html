<div ng-controller="uploadCtrl as ctrl" ng-show="validUser" class="ng-hide">
    <div id="topUploadRow" class="animated fadeIn row">
        <div class="col-md-4 col-md-offset-1">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-upload" aria-hidden="true"></i> &nbsp;&nbsp;&nbsp;Upload
                        service config file</h3>
                </div>
                <div class="panel-body">
                    <div style="height:20px;"></div>
                    <div class="form-group has-info">
                        <div class="input-group">
                            <span class="input-group-addon">File</span>
                            <input class="form-control"
                                   type="file"
                                   ngf-select="determineExt()"
                                   ng-model="fileUp"
                                   name="fileUp"
                                   ngf-max-size="20MB"/>
                            <span class="input-group-btn">
                                <button id="uploadBtn" ng-click="submit()" class="btn btn-default" type="button"
                                        disabled>Upload</button>
                            </span>
                        </div>
                    </div>
                    <!--<div ng-show="logType" class="ng-hide input-group">-->
                    <!--<div class="input-group-addon">-->
                    <!--Url Prefix-->
                    <!--</div>-->
                    <!--<select id="functionSelector" class="form-control"-->
                    <!--ng-model="prefixSelected"-->
                    <!--ng-options="prefix.url for prefix in logUrlPrefixes"-->
                    <!--ng-change="processPrefixSelection(prefixSelected)"></select>-->
                    <!--</div>-->
                    <!--<md-content ng-show="logType" class="ng-hide">-->
                        <form id="prefixSearchBox" ng-show="logType" class="ng-hide" ng-submit="$event.preventDefault()">
                            <md-autocomplete
                                    ng-disabled="ctrl.isDisabled"
                                    md-no-cache="ctrl.noCache"
                                    md-selected-item="ctrl.selectedItem"
                                    md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
                                    md-search-text="ctrl.searchText"
                                    md-selected-item-change="ctrl.selectedItemChange(item)"
                                    md-items="item in ctrl.querySearch(ctrl.searchText)"
                                    md-item-text="item.display"
                                    md-min-length="0"
                                    placeholder="Search for a prefix to add">
                                <md-item-template>
                                    <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item}}</span>
                                    <button class="btn btn-danger" ng-mousedown="deletePrefix(item)">Delete</button>
                                </md-item-template>
                                <!--<md-not-found>-->
                                    <!--No states matching "{{ctrl.searchText}}" were found.-->
                                    <!--<a ng-click="ctrl.newState(ctrl.searchText)">Create a new one!</a>-->
                                <!--</md-not-found>-->
                            </md-autocomplete>
                            <br/>
                            <!--<md-checkbox ng-model="ctrl.simulateQuery">Show progress for results?</md-checkbox>-->
                            <!--<md-checkbox ng-model="ctrl.noCache">Disable caching?</md-checkbox>-->
                            <!--<md-checkbox ng-model="ctrl.isDisabled">Disable?</md-checkbox>-->
                            <!--<p><code>md-autocomplete</code> caches results when performing a query.  After first call, it uses the cached results to eliminate unnecessary server requests or lookup logic and it can be disabled.</p>-->
                        </form>
                    <!--</md-content>-->
                    <div ng-show="uploadAttempt" class="ng-hide">
                        <div class="progress progress-striped active">
                            <div id="uploadProgressBar" class="progress-bar progress-bar-info"></div>
                        </div>
                        <strong class="text-primary">{{uploadingMsg}}</strong>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div ng-show="processingUpload" class="row col-md-5 col-md-offset-1 ng-hide">
        <div class="sideUploadDiv">
            <div id="block_1" class="barlittle"></div>
            <div id="block_2" class="barlittle"></div>
            <div id="block_3" class="barlittle"></div>
            <div id="block_4" class="barlittle"></div>
            <div id="block_5" class="barlittle"></div>
        </div>
        <div class="sideUploadDiv">
            <strong class="text-warning">{{statusMsg}}</strong>
        </div>
    </div>
    <div class="animated fadeIn row ng-hide" ng-show="jsonUploaded">
        <div class="col-md-5 col-md-offset-1">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-check-square-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;JSON
                        successfully uploaded</h3>
                </div>
                <div class="panel-body">
                    <div class="form-group has-success">
                        <div class="input-group">
                            <pre>{{jsonRsp | json}}</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>